package api

import (
  "fmt"

  "github.com/ory/kratos-client-go"
)

func NewKratosClient(endpoint string) *kratos.APIClient {
  conf := kratos.NewConfiguration()
  conf.Servers = kratos.ServerConfigurations{{URL: endpoint}}
  return kratos.NewAPIClient(conf)
}

func main() {
  c := NewKratosClient("https://playground.projects.oryapis.com/api/kratos/public/")
  flow, _, err := c.PublicApi.initializeSelfServiceRegistrationWithoutBrowser(context.Background()).Execute()
  if err != nil {
    // ...
  }

  fmt.Printf("%+v", rs.Payload)
}
